<section id = "profile">
  <app-navbar></app-navbar>

  <div class="container">
    <div class="main-body">
      <div class="row">
        <div class="col-lg-4">
          <div class="card">
            <div class="card-body">
              <div class="d-flex flex-column align-items-center text-center">
                <img src="https://bootdey.com/img/Content/avatar/avatar6.png" alt="Admin" class="rounded-circle p-1 bg-primary" width="110">
                <div class="mt-3">
                  <h4>{{currentUser.first_name}} {{currentUser.last_name}}</h4>

                  <h6>{{profile.user}}</h6>
                  <div *ngIf="currentUser.is_superuser">
                    Admin
                  </div>
                  <div *ngIf="!currentUser.is_superuser">
                    Student
                  </div>

                  <p class="text-muted font-size-sm mt-2">Joined on {{profile.created_at|date}}</p>
                  <!-- <button class="btn btn-outline-primary">Message</button> -->
                </div>
              </div>
              <hr class="my-4">




            </div>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="card">
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">First name</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" value= {{currentUser.first_name}} />
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Last name</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" value= {{currentUser.last_name}} />
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Email</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" value={{currentUser.email}}>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Phone</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" value={{profile.phone_number}}>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-3"></div>
                <div class="col-sm-9 text-secondary">
                  <!-- <button  (click)="profileUpdate()"
                  type="submit"  class="btn btn-success mt-3 signup-btn">
                    Update profile
                </button> -->

                  <input type="button" class="btn btn-primary px-4" data-bs-toggle="modal" data-bs-target="#updateProfile" value="Update Profile">
                </div>
              </div>
            </div>
          </div>
      
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="updateProfile" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="addcommentLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Profile Update</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="form">
            <form action="" class="form" enctype="multipart/form-data">
               <div class="form-item">
                 <label for="first_name" class="mb-2">First name</label>
                <input [(ngModel)]="currentUser.first_name"  name = "first_name" type="text" class="form-control input mb-3"  placeholder="First name"
                  required="required">
              </div>
              <div class="form-item">
                <label for="last_name" class="mb-2">Last name</label>
               <input [(ngModel)]="currentUser.last_name"  name = "last_name" type="text" class="form-control input mb-3"  placeholder="Last name"
                 required="required">
             </div>

              <!-- <div class="form-item">
                <label for="email"  class="mb-2">email</label>
                <input [(ngModel)]="profUpdate.email"  name = "email" type="email" class="form-control input mb-3"  placeholder="email"
                  required="required">
              </div>  -->
              <div class="form-group">
                <label for="title">Phone number</label>
                <input [(ngModel)]="profile.phone_number" name="phone_number" (change)="phoneChange($event)" type="text" id="phone_number"  class="form-control">
              </div>


              <div class="button">
                  <button  (click)="profileUpdate()"  (click)="userUpdate()"  (click)="refresh()"
                    type="submit"  class="btn btn-success mt-3 signup-btn">
                      Update
                  </button>
              </div>



            </form>
          </div>




        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</section>
